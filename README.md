# Student Roommate Companion Agent System

This project implements a multi-agent solution for personalized student roommate and housing matching, developed for the National Agentic AI Hackathon. Our system focuses on achieving **high personalization** via LLM integration while guaranteeing **operational robustness** in low-resource settings.

##  Core Features & Deliverables

| Feature | Description | Technology | Status |
| :--- | :--- | :--- | :--- |
| **Multi-Agent Coordination** | Seamless end-to-end orchestration showing data passing from Profile Reader to Room Hunter. | Python Orchestrator | ✅ **Completed** |
| **LLM-Enhanced Explanation** | The **Wingman Agent** uses the Gemini API to generate empathetic, personalized match explanations and compromises. | **Gemini 2.5 Flash** | ✅ **Completed** |
| **Conflict Detection** | The **Red Flag Agent** identifies critical lifestyle mismatches (e.g., Sleep vs. Cleanliness). | Rule-Based Python | ✅ **Completed** |
| **Degraded Mode** | Instantly switches to a small, local dataset and rule-based logic when `Full Online Mode` is disabled, ensuring reliability in low-bandwidth areas. | Local CSVs | ✅ **Completed** |
| **Agent Trace/Log** | A comprehensive JSON log detailing every step and decision made by the system. | Gradio Output | ✅ **Completed** |

-----

##  System Architecture (Agent Flow)

The system is built around six specialized agents coordinated sequentially:

1.  **Profile Reader (LLM):** Parses raw profile text (handles mixed Urdu/English) into clean, standardized JSON data (simulated for demo, but logic is LLM-based).
2.  **Match Scorer:** Computes weighted compatibility score (Max 17) based on location, budget, and habits.
3.  **Red Flag Agent:** Checks for hard conflicts between the top two matched profiles.
4.  **Wingman Agent:** Generates the final, human-readable match summary and suggested compromises. (Uses **Gemini** in Online Mode, Templates in Degraded Mode).
5.  **Room Hunter Agent:** Filters available housing listings by the pair's combined city and budget.
6.  **Orchestrator (Main Logic):** Executes the sequence and outputs the final result and **JSON Trace**.

-----

##  How to Run the Project (Google Colab)

This project is best demonstrated live using **Gradio** in a Colab environment.

### Prerequisites

1.  **Gemini API Key:** Obtain and set your `GEMINI_API_KEY`.
2.  **Ngrok Auth Token:** Obtain and set your `NGROK_AUTH_TOKEN` (Optional, but required for the most stable connection).
3.  **Data Files:** Ensure the four required CSV files are present in a subdirectory named `data/`.

### Launch Steps

1.  **Clone the Repository** and upload the files to your Colab environment.
2.  **Run the Colab Notebook** sequentially to install dependencies, write the Python files, and set up the API keys.
3.  **Execute the Final Launch Cell** (the one containing the `!python app_gradio.py` command).
4.  Gradio will automatically print a public link (e.g., `https://xxxxxx.gradio.live`). Open this link in your browser.

-----

##  Demo Scenarios for Judges

The interface is designed to showcase the two modes clearly:

### 1\. Full Online Mode (LLM Power Demo)

  * **Action:** Select Profile **R-281** and click **Submit**.
  * **Highlight:** Point to the **Wingman Explanation** and note that the quality of the advice and language is generated by the **Gemini API**. Check the **JSON Trace** to confirm the Wingman step used the Gemini method.

### 2\. Degraded Mode (Offline Robustness)

  * **Action:** Switch the **Agent Mode** radio button to **Degraded Mode (Offline)**. Select Profile **R-210**.
  * **Highlight:** Note that the system is running against a **limited 25-profile dataset** (faster execution), and the Wingman's output is now a simplified **template-based response**, confirming the system's ability to maintain core functionality without internet access.

-----

##  Repository Structure

```
.
├── app_gradio.py       <-- Gradio UI & Launch Script
├── agents.py           <-- Core Agent Logic (Match Scorer, Red Flag, Wingman)
├── data_utils.py       <-- Data Loading/Setup
├── README.md           <-- This file
├── requirements.txt    <-- Dependencies (streamlit, gradio, google-genai, pydantic)
└── data/
    ├── synthetic_roommate_profiles_pakistan_400.csv
    ├── housing_listings_pakistan_400.csv
    ├── roommates_clean_sample.csv
    └── housing_clean_sample.csv
```
